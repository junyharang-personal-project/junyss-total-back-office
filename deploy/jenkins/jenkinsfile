pipeline {
    agent any
    environment {
        WEBHOOK_URL = credentials("Total-Back-Office-BE-Discord-Webhook")
    }

    stages {
        stage('Start') {
            steps {
                echo "Hello, Juny hehe!! ðŸ˜€"
            }
        }
    }

    post {
        success {
            discordSend description: "Jenkins CI/CD Trigger Alarm",
                footer: "Build ì„±ê³µ í•˜ì˜€ì–´ìš”. ðŸ˜€",
                link: env.BUILD_URL, result: currentBuild.currentResult,
                title: "Jenkins CI/CD Trigger Discordë¥¼ í†µí•´ ë°›ê¸° ì‹œí—˜ ì¤‘ ìž…ë‹ˆë‹¤.",
                webhookURL: env.WEBHOOK_URL
        }

        failure {
            discordSend description: "Jenkins CI/CD Trigger Alarm",
                footer: "Build ì‹¤íŒ¨ í•˜ì˜€ì–´ìš”. ðŸ˜¢",
                link: env.BUILD_URL, result: currentBuild.currentResult,
                title: "Jenkins CI/CD Trigger Discordë¥¼ í†µí•´ ë°›ê¸° ì‹œí—˜ ì¤‘ ìž…ë‹ˆë‹¤.",
                webhookURL: env.WEBHOOK_URL
        }
    }
}
